DROP TABLE Lillyputian.Account;
DROP TABLE Lillyputian.Ledger;
DROP TABLE Lillyputian.Payee;
DROP TABLE Lillyputian.Category;
DROP TABLE Lillyputian.SubCategory;
DROP TABLE Lillyputian.RepeatingTransactions;
DROP TABLE Lillyputian.BudgetYear;
DROP TABLE Lillyputian.BudgetDetail;
DROP TABLE Lillyputian.Span;
DROP TABLE Lillyputian.Status;
DROP TABLE Lillyputian.Type;

CREATE TABLE Lillyputian.Span (ID VARCHAR(36) PRIMARY KEY NOT NULL,
Name VARCHAR(50) NOT NULL,
Days INTEGER NOT NULL,
Void BOOLEAN DEFAULT(0) NOT NULL);

CREATE TABLE Lillyputian.Status (ID VARCHAR(36) PRIMARY KEY NOT NULL,
Name VARCHAR(50) NOT NULL,
TableType VARCHAR(25) NOT NULL,
Void BOOLEAN DEFAULT(0) NOT NULL);

CREATE TABLE Lillyputian.Type (ID VARCHAR(36) PRIMARY KEY NOT NULL,
Name VARCHAR(50) NOT NULL,
TableType VARCHAR(25) NOT NULL,
Void BOOLEAN DEFAULT(0) NOT NULL);

CREATE TABLE Lillyputian.Account (ID VARCHAR(36) PRIMARY KEY NOT NULL,
Name VARCHAR(255) NOT NULL,
TypeID VARCHAR(36), 
Number INTEGER,
StatusID VARCHAR(36) NOT NULL, 
Notes TEXT,
Website TEXT,
InitialBalance DECIMAL(13,2) DEFAULT(0.00) NOT NULL,
Void BOOLEAN DEFAULT(0) NOT NULL,

FOREIGN KEY(TypeID) REFERENCES Type(ID),
FOREIGN KEY(StatusID) REFERENCES Status(ID));

CREATE TABLE Lillyputian.Ledger (ID VARCHAR(36) PRIMARY KEY NOT NULL,
AccountID VARCHAR(36) NOT NULL,
TargetAccountID VARCHAR(36),
PayeeID VARCHAR(36) NOT NULL,
TypeID VARCHAR(36), 
StatusID VARCHAR(36), 
Number INTEGER,
Amount DECIMAL(13,2) DEFAULT(0.00) NOT NULL,
Date DATE NOT NULL,
Void BOOLEAN DEFAULT(0) NOT NULL,

FOREIGN KEY(AccountID) REFERENCES Account(ID),
FOREIGN KEY(TargetAccountID) REFERENCES Account(ID),
FOREIGN KEY(PayeeID) REFERENCES Payee(ID),
FOREIGN KEY(TypeID) REFERENCES Type(ID),
FOREIGN KEY(StatusID) REFERENCES Status(ID));

CREATE TABLE Lillyputian.Payee (ID VARCHAR(36) PRIMARY KEY NOT NULL,
Name VARCHAR(255) NOT NULL,
CategoryID VARCHAR(36),
SubCategoryID VARCHAR(36),
Void BOOLEAN DEFAULT(0) NOT NULL);

CREATE TABLE Lillyputian.Category (ID VARCHAR(36) PRIMARY KEY NOT NULL,
Name VARCHAR(255) NOT NULL,
Void BOOLEAN DEFAULT(0) NOT NULL);

CREATE TABLE Lillyputian.SubCategory (ID VARCHAR(36) PRIMARY KEY NOT NULL,
CategoryID VARCHAR(36) NOT NULL,
Name VARCHAR(255) NOT NULL,
Void BOOLEAN DEFAULT(0) NOT NULL);

CREATE TABLE Lillyputian.RepeatingTransactions (ID VARCHAR(36) PRIMARY KEY NOT NULL,
AcountID VARCHAR(36) NOT NULL,
TargetAccountID VARCHAR(36),
PayeeID VARCHAR(36),
TypeID VARCHAR(36), 
StatusID VARCHAR(36), 
Amount DECIMAL(13,2) DEFAULT(0.00) NOT NULL,
Notes TEXT,
CategoryID VARCHAR(36),
SubCategoryID VARCHAR(36),
SpanID VARCHAR(36) NOT NULL, 
NextDate DATE NOT NULL,
RepeatTimes INTEGER DEFAULT(0) NOT NULL);

CREATE TABLE Lillyputian.BudgetYear (ID VARCHAR(36) PRIMARY KEY NOT NULL,
Name VARCHAR(25) NOT NULL,
StatusID VARCHAR(36) NOT NULL); 

CREATE TABLE Lillyputian.BudgetDetail (ID VARCHAR(36) PRIMARY KEY NOT NULL,
BudgetYearID VARCHAR(36) NOT NULL,
CategoryID VARCHAR(36) NOT NULL,
SubCategoryID VARCHAR(36),
SpanID VARCHAR(36), 
Amount DECIMAL(13,2) DEFAULT(0.00) NOT NULL);